<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Real-Time Coastal Safety &amp; Tourism Guide</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=container-queries"></script>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#1193d4",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101c22",
                        "surface-light": "#ffffff",
                        "surface-dark": "#1a2831",
                        "text-light": "#101c22",
                        "text-dark": "#f6f7f8",
                        "text-muted-light": "#6b7280",
                        "text-muted-dark": "#9ca3af",
                        "border-light": "#e5e7eb",
                        "border-dark": "#374151",
                    },
                    fontFamily: {
                        display: ["Plus Jakarta Sans", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        lg: "1rem",
                        xl: "1.5rem",
                        full: "9999px",
                    },
                },
            },
        }
    </script>
    <style>
        /* Reveal-on-scroll utility styles */
        .reveal {
            opacity: 0;
            transform: translateY(24px) scale(0.98);
            transition: opacity 600ms cubic-bezier(.2,.9,.2,1), transform 600ms cubic-bezier(.2,.9,.2,1);
            will-change: opacity, transform;
        }
        .reveal.revealed {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        /* Use CSS variable for delay (set from JS via --delay) */
        .reveal[data-delay] { transition-delay: var(--delay, 0ms); }
        @media (prefers-reduced-motion: reduce) {
            .reveal { transition: none !important; transform: none !important; }
        }
        /* Add this to your CSS */
        .dark .dark-mode-icon-light { display: none; }
        .dark-mode-icon-dark { display: none; }
        .dark .dark-mode-icon-dark { display: inline-block; }
        .material-symbols-outlined {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
<div class="relative w-full overflow-x-hidden">
<header class="w-full bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm sticky top-0 z-50 reveal" data-delay="0">
<nav class="container mx-auto px-6 py-3 flex items-center justify-between">
<div class="flex items-center gap-8">
<a class="flex items-center gap-3 text-slate-900 dark:text-white" href="index.html">
<svg class="h-8 w-8 text-primary" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z" fill="currentColor"></path>
</svg>
<span class="text-xl font-bold">Coastal Guide</span>
</a>
<div id="nav-menu" class="hidden md:flex items-center gap-8">
<a class="text-sm font-medium text-text-light dark:text-text-dark hover:text-primary transition-colors" href="searchbeach.html">Beaches</a>
<a class="text-sm font-medium text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="plantrip.html">Plan a Trip</a>
<a class="text-sm font-medium text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="alert.html">Safety</a>
<a class="text-sm font-medium text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="#">About</a>
</div>
</div>
<div class="flex items-center gap-4">
<button id="dark-mode-toggle" class="p-2 rounded-full hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors">
<span class="material-symbols-outlined dark-mode-icon-light">light_mode</span>
<span class="material-symbols-outlined dark-mode-icon-dark">dark_mode</span>
</button>
<div id="guest-menu" class="items-center gap-4">
<a href="login.html" class="bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary font-bold text-sm px-5 py-2.5 rounded-full hover:bg-primary/20 dark:hover:bg-primary/30 transition-colors">Login</a>
<a href="registration.html" class="bg-primary text-white font-bold text-sm px-5 py-2.5 rounded-full hover:bg-primary/90 transition-colors shadow-md">Sign Up</a>
</div>
<div id="user-profile" class="relative items-center gap-4">
<!-- User menu will be populated by auth.js -->
</div>
<button id="mobile-menu-button" class="md:hidden p-2 rounded-full text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors">
<span class="material-symbols-outlined">menu</span>
</button>
</div>
</nav>
</header>
<main class="container mx-auto px-6 py-8">
<div class="relative h-[600px] rounded-xl overflow-hidden flex items-center justify-center text-center text-white bg-cover bg-center reveal" data-delay="120" style="background-image: linear-gradient(rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.6) 100%), url('https://lh3.googleusercontent.com/aida-public/AB6AXuCPyCtHxoPwUoHcdS1tkl1CEddcPqPlzfbppSysMwlz4SqfLanP0RBIkQa9svVp39MQQaspqS5Dq2BsSbqFgCrKIjnBB4JkjpoSxF8U6USqJjVOagGMvyt3ttJZY86Dfh3FBX5yN9f2fa5GaPc8cfmJMhofXXvZnyu20-WXhR1dDU75fbP4Kn-XI8-rzpbgZULwrufDpBYt0IUS7H2t0Gyv1bxeKPTE-9b-BGPl30829Pgpphnah_rmWsYrDVEzdgkHCDYUu2DX38sE');">
<div class="max-w-3xl px-4 reveal" data-delay="220">
<h1 class="text-4xl md:text-6xl font-extrabold tracking-tight">Explore India's Coastal Wonders</h1>
<p class="mt-4 text-lg md:text-xl max-w-2xl mx-auto">Discover pristine beaches, thrilling activities, and real-time safety updates for an unforgettable coastal experience.</p>
<a href="searchbeach.html" class="mt-8 inline-block bg-primary text-white font-bold text-base px-8 py-3 rounded-full hover:bg-primary/90 transition-all transform hover:scale-105 shadow-xl reveal" data-delay="320">
                        Explore Beaches
                    </a>
</div>
</div>
<section id="live-alerts-section" class="py-12">
<h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white mb-6 reveal" data-delay="80">Live Safety Alerts</h2>
<div id="live-alert-content" class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-lg p-6 flex flex-col md:flex-row items-center gap-8 reveal" data-delay="160">
    <!-- Live alert will be loaded here by JS -->
    <div class="text-center py-8 w-full">
        <div class="inline-flex items-center gap-3 text-text-muted-light dark:text-text-muted-dark">
            <span class="material-symbols-outlined animate-spin text-2xl">refresh</span>
            <span class="text-lg">Loading live alerts...</span>
        </div>
    </div>
</div>
</section>
<section class="py-12">
<h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white mb-6 reveal" data-delay="100">Featured Beaches</h2>
<div id="featured-beaches-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
<div class="group relative rounded-xl overflow-hidden shadow-lg reveal transition-all duration-300 hover:shadow-2xl hover:-translate-y-1" data-delay="140" data-weather-widget data-lat="17.781" data-lon="83.385">
<div class="absolute inset-0 z-10 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
<img class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105" src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&h=600&fit=crop&auto=format" alt="Rushikonda Beach"/>
<div class="absolute inset-0 z-20 flex flex-col justify-end p-6 text-white">
<h3 class="text-2xl font-bold">Andhra Pradesh</h3>
<p class="mt-1 text-sm text-slate-300">Home to beautiful beaches like Rushikonda, perfect for water sports.</p>
<a href="searchbeach.html?state=Andhra Pradesh" class="mt-4 w-full text-center rounded-full bg-primary py-2 text-sm font-bold text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100">View More</a>
</div>
</div>
<div class="group relative rounded-xl overflow-hidden shadow-lg reveal transition-all duration-300 hover:shadow-2xl hover:-translate-y-1" data-delay="180" data-weather-widget data-lat="10.8505" data-lon="76.2711">
<div class="absolute inset-0 z-10 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
<img class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105" src="https://lh3.googleusercontent.com/aida-public/AB6AXuC5BIbTyniNHdlfoj_gJ_hLxMQm7rnAGYzk9LFlZO-5HD9tVperUNsoZEf6sXZT8K7xmbny16JVc26vYr2X4D8_F3AoqTn9MQBd8CGfCIGELQJwXIlPEkecStCmhNnUSGs7IP7o-XzSUIJqk-slfrT7bNYtVdfZWYh1abXUonlKEfJuXCAb_p7Af9AST57eD874Hq7znEPPxkaD1fAyqaIiVbEEVRJWZywmTuS2NUc4w4BUAD-HI0s2A_QJhdVp2QUFz8cFcgquBzBz" alt="Kerala beach"/>
<div class="absolute inset-0 z-20 flex flex-col justify-end p-6 text-white">
<h3 class="text-2xl font-bold">Kerala</h3>
<p class="mt-1 text-sm text-slate-300">Famous for its serene backwaters and lush greenery.</p>
<a href="searchbeach.html?state=Kerala" class="mt-4 w-full text-center rounded-full bg-primary py-2 text-sm font-bold text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100">View More</a>
</div>
</div>
<div class="group relative rounded-xl overflow-hidden shadow-lg reveal transition-all duration-300 hover:shadow-2xl hover:-translate-y-1" data-delay="220" data-weather-widget data-lat="11.9416" data-lon="92.9739">
<div class="absolute inset-0 z-10 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
<img class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCwVTYlCInd3upHocTtk5yRHeXTEIthz6A6zZhmfyE8mZIS6KO9Y2l_XDpm5msPtujltZChjQabMMROhZiGCUEED-nIDAK-1NPyHGqO61j6UMQ-P0ugEDgjukCQKCWBEy5A-1hYG4_tqZTG50NO5_7DrnMPPgzJwqVXeGGCj1IhHLgaU9JLqF57spwuS_3RiV8EiazIvuuqwAEWNonXS1t7vUZrmBAx1jCjSGkwMbMthVLwYDRbd-d_vAqrIu5WFXksNuSBb13cbcoc" alt="Andaman beach"/>
<div class="absolute inset-0 z-20 flex flex-col justify-end p-6 text-white">
<h3 class="text-2xl font-bold">Andaman</h3>
<p class="mt-1 text-sm text-slate-300">Renowned for its pristine beaches and rich marine life.</p>
<a href="searchbeach.html?state=Andaman and Nicobar Islands" class="mt-4 w-full text-center rounded-full bg-primary py-2 text-sm font-bold text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100">View More</a>
</div>
</div>
</div>
</section>
</main>
<footer class="bg-white dark:bg-slate-900/50 mt-12">
<div class="container mx-auto px-6 py-12">
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
<div>
<a class="flex items-center gap-3 text-slate-900 dark:text-white" href="index.html">
<svg class="h-8 w-8 text-primary" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z" fill="currentColor"></path>
</svg>
<span class="text-xl font-bold">Coastal Guide</span>
</a>
<p class="mt-4 text-sm text-text-muted-light dark:text-text-muted-dark">Your guide to the best beaches in India, with real-time safety and activity information.</p>
</div>
<div>
<h3 class="text-lg font-bold text-text-light dark:text-text-dark mb-4">Quick Links</h3>
<ul class="space-y-2">
<li><a class="text-sm text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="searchbeach.html">Beaches</a></li>
<li><a class="text-sm text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="plantrip.html">Plan a Trip</a></li>
<li><a class="text-sm text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="alert.html">Safety Alerts</a></li>
<li><a class="text-sm text-text-muted-light dark:text-text-muted-dark hover:text-primary transition-colors" href="#">About Us</a></li>
</ul>
</div>
<div class="lg:col-span-2">
<h3 class="text-lg font-bold text-text-light dark:text-text-dark mb-4">Newsletter</h3>
<p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-4">Stay updated with our latest news and offers.</p>
<form class="flex flex-col sm:flex-row gap-2">
<input class="flex-grow bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Enter your email" type="email"/>
<button class="px-4 py-2 bg-primary text-white rounded-md text-sm font-semibold hover:bg-primary/90 transition-colors" type="submit">
                                Subscribe
                            </button>
</form>
</div>

</div>
<div class="border-t border-border-light dark:border-border-dark mt-8 pt-8 text-center text-sm text-text-muted-light dark:text-text-muted-dark">
<p>© 2024 Coastal Guide. All rights reserved.</p>
</div>
</div>
</footer>
</div>
  
    <script>
        // Reveal-on-scroll using IntersectionObserver
        (function () {
            if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                // If user prefers reduced motion, reveal everything immediately
                document.querySelectorAll('.reveal').forEach(el => el.classList.add('revealed'));
                return;
            }

            const revealEls = document.querySelectorAll('.reveal');
            // set CSS variable --delay from data-delay attribute (ms)
            revealEls.forEach(el => {
                const d = el.getAttribute('data-delay');
                if (d) el.style.setProperty('--delay', d + 'ms');
            });

            const io = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                        // optional: unobserve after reveal
                        io.unobserve(entry.target);
                    }
                });
            }, {
                root: null,
                rootMargin: '0px 0px -8% 0px',
                threshold: 0.08
            });

            revealEls.forEach(el => io.observe(el));
        })();
    </script>
    <script>
        // Dark mode toggle
        (function() {
            const toggle = document.getElementById('dark-mode-toggle');
            if (!toggle) return;

            // Check for saved preference, or use system preference
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            toggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            });
        })();
    </script>
    <script>
        // Mobile menu toggle
        (function() {
            const menuButton = document.getElementById('mobile-menu-button');
            const navMenu = document.getElementById('nav-menu');
            if (!menuButton || !navMenu) return;

            menuButton.addEventListener('click', () => {
                // A simple toggle. For a real app, you might want a more robust solution
                // that handles focus trapping and ARIA attributes.
                navMenu.classList.toggle('hidden');
            });
        })();
    </script>
<script src="assets/js/auth.js" type="module"></script>
<script type="module">
    import { OPENWEATHER_API_KEY, WORLDTIDES_API_KEY } from './assets/js/config.js';
    window.__COASTAL_CONFIG__ = { OPENWEATHER_API_KEY, WORLDTIDES_API_KEY };
    // Move weather.js import to the top to ensure it's loaded first
    import './weather.js';
    import { AlertManager } from './assets/js/alerts.js';
    import { beaches } from './assets/js/beaches.js';

    document.addEventListener('DOMContentLoaded', () => {
        loadFeaturedAlert()
    });

    async function loadFeaturedAlert() {
        const alertContainer = document.getElementById('live-alert-content');
        if (!alertContainer) return;

        const alertManager = new AlertManager();
        await alertManager.loadAlerts();

        // Find the most severe alert (High > Moderate > Low)
        const sortedAlerts = [...alertManager.alerts].sort((a, b) => {
            const severityOrder = { 'High': 3, 'Moderate': 2, 'Low': 1 };
            return (severityOrder[b.severity] || 0) - (severityOrder[a.severity] || 0);
        });

        const latestAlert = sortedAlerts.length > 0 ? sortedAlerts[0] : null;

        if (latestAlert) {
            const severityColors = {
                'High': 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200',
                'Moderate': 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200',
                'Low': 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200',
            };
            const beachData = beaches.beaches_in_india.find(b => latestAlert.location.includes(b.name));

            alertContainer.innerHTML = `
                <div class="flex-1">
                    <div class="${severityColors[latestAlert.severity] || severityColors['Low']} text-sm font-bold uppercase tracking-wider px-3 py-1 rounded-full inline-block mb-3">${latestAlert.type}</div>
                    <p class="text-xl font-bold text-text-light dark:text-text-dark">${latestAlert.title}</p>
                    <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">${latestAlert.description}</p>
                    <a href="alert.html" class="mt-4 inline-block text-primary font-bold text-sm hover:underline">
                        View All Alerts
                    </a>
                </div>
                <div class="w-full md:w-1/3 h-48 md:h-auto md:self-stretch rounded-lg overflow-hidden bg-cover bg-center" style="background-image: url('${beachData?.image || 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=300&fit=crop'}');">
                </div>
            `;
        } else {
            alertContainer.innerHTML = `<p class="text-center w-full text-text-muted-light dark:text-text-muted-dark">No active safety alerts at the moment. Enjoy the coast!</p>`;
        }
    }

  </script>

</body></html>